const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/CodeRunner-DbFEBKK6.js","assets/modules/vue-mKt6p7ga.js","assets/monaco/bundled-types-DyDFhQlo.js","assets/modules/file-saver-C8QSpN-3.js","assets/monaco/bundled-types-iRPIFVgV.css","assets/index-DUrPz2Be.js","assets/modules/shiki-BA_elKM4.js","assets/modules/shiki-DVQfPmV_.css","assets/index-COgDQ85E.css","assets/slidev/context-BO6eJi3K.js","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-DsFrmVTX.js","assets/CodeRunner-DcJPFc8h.css"])))=>i.map(i=>d[i]);
import{_ as U,Z as P}from"./monaco/bundled-types-DyDFhQlo.js";import{d as W,r as C,z as Y,aL as G,X as q,p as H,f as I,o as j,g as h,b as Z,i as X,k as ee,a1 as E,$ as te,w as oe,e as ne,m as re,ad as L,v as ie,x as ae}from"./modules/vue-mKt6p7ga.js";import{a as se}from"./modules/file-saver-C8QSpN-3.js";import{a as le,A as N}from"./index-DUrPz2Be.js";import{u as J,f as ue}from"./slidev/context-BO6eJi3K.js";import{I as ce}from"./slidev/default-ZLzmAyB1.js";import"./modules/shiki-BA_elKM4.js";var T={exports:{}},K;function de(){return K||(K=1,(function(O){var c=(function(){var _=String.fromCharCode,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",S={};function k(t,n){if(!S[t]){S[t]={};for(var s=0;s<t.length;s++)S[t][t.charAt(s)]=s}return S[t][n]}var A={compressToBase64:function(t){if(t==null)return"";var n=A._compress(t,6,function(s){return M.charAt(s)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:A._decompress(t.length,32,function(n){return k(M,t.charAt(n))})},compressToUTF16:function(t){return t==null?"":A._compress(t,15,function(n){return _(n+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:A._decompress(t.length,16384,function(n){return t.charCodeAt(n)-32})},compressToUint8Array:function(t){for(var n=A.compress(t),s=new Uint8Array(n.length*2),r=0,i=n.length;r<i;r++){var p=n.charCodeAt(r);s[r*2]=p>>>8,s[r*2+1]=p%256}return s},decompressFromUint8Array:function(t){if(t==null)return A.decompress(t);for(var n=new Array(t.length/2),s=0,r=n.length;s<r;s++)n[s]=t[s*2]*256+t[s*2+1];var i=[];return n.forEach(function(p){i.push(_(p))}),A.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":A._compress(t,6,function(n){return m.charAt(n)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),A._decompress(t.length,32,function(n){return k(m,t.charAt(n))}))},compress:function(t){return A._compress(t,16,function(n){return _(n)})},_compress:function(t,n,s){if(t==null)return"";var r,i,p={},y={},v="",x="",d="",g=2,f=3,l=2,u=[],e=0,a=0,o;for(o=0;o<t.length;o+=1)if(v=t.charAt(o),Object.prototype.hasOwnProperty.call(p,v)||(p[v]=f++,y[v]=!0),x=d+v,Object.prototype.hasOwnProperty.call(p,x))d=x;else{if(Object.prototype.hasOwnProperty.call(y,d)){if(d.charCodeAt(0)<256){for(r=0;r<l;r++)e=e<<1,a==n-1?(a=0,u.push(s(e)),e=0):a++;for(i=d.charCodeAt(0),r=0;r<8;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}else{for(i=1,r=0;r<l;r++)e=e<<1|i,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=0;for(i=d.charCodeAt(0),r=0;r<16;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}g--,g==0&&(g=Math.pow(2,l),l++),delete y[d]}else for(i=p[d],r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;g--,g==0&&(g=Math.pow(2,l),l++),p[x]=f++,d=String(v)}if(d!==""){if(Object.prototype.hasOwnProperty.call(y,d)){if(d.charCodeAt(0)<256){for(r=0;r<l;r++)e=e<<1,a==n-1?(a=0,u.push(s(e)),e=0):a++;for(i=d.charCodeAt(0),r=0;r<8;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}else{for(i=1,r=0;r<l;r++)e=e<<1|i,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=0;for(i=d.charCodeAt(0),r=0;r<16;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1}g--,g==0&&(g=Math.pow(2,l),l++),delete y[d]}else for(i=p[d],r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;g--,g==0&&(g=Math.pow(2,l),l++)}for(i=2,r=0;r<l;r++)e=e<<1|i&1,a==n-1?(a=0,u.push(s(e)),e=0):a++,i=i>>1;for(;;)if(e=e<<1,a==n-1){u.push(s(e));break}else a++;return u.join("")},decompress:function(t){return t==null?"":t==""?null:A._decompress(t.length,32768,function(n){return t.charCodeAt(n)})},_decompress:function(t,n,s){var r=[],i=4,p=4,y=3,v="",x=[],d,g,f,l,u,e,a,o={val:s(0),position:n,index:1};for(d=0;d<3;d+=1)r[d]=d;for(f=0,u=Math.pow(2,2),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;switch(f){case 0:for(f=0,u=Math.pow(2,8),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;a=_(f);break;case 1:for(f=0,u=Math.pow(2,16),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;a=_(f);break;case 2:return""}for(r[3]=a,g=a,x.push(a);;){if(o.index>t)return"";for(f=0,u=Math.pow(2,y),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;switch(a=f){case 0:for(f=0,u=Math.pow(2,8),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;r[p++]=_(f),a=p-1,i--;break;case 1:for(f=0,u=Math.pow(2,16),e=1;e!=u;)l=o.val&o.position,o.position>>=1,o.position==0&&(o.position=n,o.val=s(o.index++)),f|=(l>0?1:0)*e,e<<=1;r[p++]=_(f),a=p-1,i--;break;case 2:return x.join("")}if(i==0&&(i=Math.pow(2,y),y++),r[a])v=r[a];else if(a===p)v=g+g.charAt(0);else return null;x.push(v),r[p++]=g+v.charAt(0),i--,g=v,i==0&&(i=Math.pow(2,y),y++)}}};return A})();O!=null?O.exports=c:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return c})})(T)),T.exports}var fe=de();const F=se(fe),pe={class:"relative slidev-monaco-container"},ge=W({__name:"Monaco",props:{codeLz:{default:""},diffLz:{},lang:{default:"typescript"},readonly:{type:Boolean,default:!1},lineNumbers:{default:"off"},height:{default:"initial"},editorOptions:{},ata:{type:Boolean,default:!0},runnable:{type:Boolean,default:!1},writable:{},autorun:{type:[Boolean,String],default:!0},showOutputAt:{type:[null,Boolean,String,Number,Array]},outputHeight:{},highlightOutput:{type:Boolean,default:!0},runnerOptions:{}},setup(O){const c=O,_=te(()=>U(()=>import("./slidev/CodeRunner-DbFEBKK6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(l=>l.default)),M=C(F.decompressFromBase64(c.codeLz).trimEnd()),m=c.diffLz&&C(F.decompressFromBase64(c.diffLz).trimEnd()),S=Y(()=>c.writable&&!c.readonly&&!1),A={ts:"typescript",js:"javascript"}[c.lang]??c.lang,n={typescript:"mts",javascript:"mjs",ts:"mts",js:"mjs"}[c.lang]??c.lang,s=C(),r=C(),i=C(0),p=C(),y=Y(()=>c.height==="auto"?`${i.value}px`:c.height==="initial"?`${p.value}px`:c.height),v=C(),{$page:x,$renderContext:d}=J(),{currentSlideNo:g}=le(),f=G(()=>Math.abs(x.value-g.value)<=1&&v.value,l=>{["slide","presenter"].includes(d.value)?l():setTimeout(l,5e3)});return q(async()=>{const{default:l}=await U(async()=>{const{default:w}=await import("./monaco/bundled-types-DyDFhQlo.js").then(b=>b.a3);return{default:w}},__vite__mapDeps([2,3,1,4])),{ata:u,monaco:e,editorOptions:a}=await l(),o=e.editor.createModel(M.value,A,e.Uri.parse(`file:///${N()}.${n}`));o.onDidChangeContent(()=>M.value=o.getValue());const Q={automaticLayout:!0,readOnly:c.readonly,lineNumbers:c.lineNumbers,minimap:{enabled:!1},overviewRulerBorder:!1,overviewRulerLanes:0,padding:{top:10,bottom:10},lineNumbersMinChars:3,bracketPairColorization:{enabled:!1},tabSize:2,fontSize:11.5,fontFamily:"var(--slidev-code-font-family)",scrollBeyondLastLine:!1,useInlineViewWhenSpaceIsLimited:!1,...a,...c.editorOptions};let B;if(m){const w=e.editor.createModel(m.value,A,e.Uri.parse(`file:///${N()}.${n}`));w.onDidChangeContent(()=>M.value=o.getValue());const b=e.editor.createDiffEditor(r.value,{renderOverviewRuler:!1,...Q});b.setModel({original:o,modified:w});const D=b.getOriginalEditor(),z=b.getModifiedEditor(),R=()=>{const V=Math.max(D.getContentHeight(),z.getContentHeight())+4;p.value??=V,i.value=V,H(()=>b.layout())};D.onDidContentSizeChange(R),z.onDidContentSizeChange(R),B=z}else{const w=e.editor.create(r.value,{model:o,lineDecorationsWidth:0,...Q});w.onDidContentSizeChange(b=>{const D=b.contentHeight+4;p.value??=D,i.value=D,H(()=>B.layout())}),B=w}v.value=()=>{f(),U(()=>import("./monaco/bundled-types-DyDFhQlo.js").then(w=>w.a4),__vite__mapDeps([2,3,1,4])),c.ata&&(u(B.getValue()),B.onDidChangeModelContent(P(1e3,()=>{u(B.getValue())})))};const $=B.layoutContentWidget.bind(B);B.layoutContentWidget=w=>{$(w),w.getId()==="editor.contrib.resizableContentHoverWidget"&&(w._resizableNode.domNode.style.transform=w._positionPreference===1?"translateY(calc(100% * (var(--slidev-slide-scale) - 1)))":"")},B.addAction({id:"slidev-save",label:"Save",keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],run:()=>{S.value,console.warn("[Slidev] this monaco editor is not writable, save action is ignored.")}}),H(()=>e.editor.remeasureFonts()),setTimeout(()=>e.editor.remeasureFonts(),1e3)}),(l,u)=>(j(),I("div",pe,[h("div",{ref_key:"outer",ref:s,class:"relative slidev-monaco-container-inner",style:ee({height:y.value})},[h("div",{ref_key:"container",ref:r,class:"absolute inset-0.5"},null,512)],4),c.runnable?(j(),Z(E(_),{key:0,modelValue:M.value,"onUpdate:modelValue":u[0]||(u[0]=e=>M.value=e),lang:E(A),autorun:c.autorun,"show-output-at":c.showOutputAt,height:c.outputHeight,"highlight-output":c.highlightOutput,"runner-options":c.runnerOptions},null,8,["modelValue","lang","autorun","show-output-at","height","highlight-output","runner-options"])):X("v-if",!0)]))}}),he={class:"grid grid-cols-2 gap-6"},Ae={class:"bg-gray-50 rounded-lg p-5 border"},Me={__name:"slides.md__slidev_14",setup(O){const{$clicksContext:c,$frontmatter:_}=J();return c.setup(),(M,m)=>{const S=ge;return j(),Z(ce,ie(ae(E(ue)(E(_),13))),{default:oe(()=>[m[2]||(m[2]=h("h1",null,"生命周期管理与消息传递机制",-1)),h("div",he,[h("div",Ae,[m[0]||(m[0]=h("h3",{class:"text-lg font-bold text-gray-800 mb-3"},"智能体生命周期（AgentBase）",-1)),ne(S,re({"code-lz":"GYJw9gtgBAhg5gUwHYBcDOBjMAHBA6eZdKASwmzBBSgEFFUAhGNBAKFYwBtm0oBhAK5oUkOkQAUYxswQBKAFysoyqABMEwKAH0tJJCRQ7xLTsAA0UJDAgJ5UYSAsAqJwGsA7jBBw0CpSoC0AVwQcVk8HT0DIysbAF5YhDMXKA8vH1l/AOUAYihAXCVAac1ANGVAbgTARPjALH/AAqVAX3jAQitAaPVAQAYi4sAG6MAx/UBJbyyoPvVNEARsTgBPYwRTCwAPOwBZNDhZKABaAD4oRbhFbJU8wA4LQGH9QFmVQBS9CsrAEE1AMBdAZPjAU0VACNtAewNANz1AFfjAPbVAZb9AHPM+gFhmgKEgWFA4vYpsA8BAwOpOHh6AgQDAUAhxDM8FhUERMntlMMUAIQEgtktxIk4iYYYkLDj0ag4sDQSwLOBOAg4gAiHgkYQwVDc/EqAYaKBgABGLBAADcMTTZgslisNlAAHJgJC2QH7KCAe+VAJAJlUAQ5GAfe1XoAIf8AQZqADW0Hl1ADD/gFg5b7/QCQ/7rlDTYQg4SAxgRVKpMZkgA",lang:"python"},{}),null,16)]),m[1]||(m[1]=h("div",{class:"bg-purple-50 rounded-lg p-5 border border-purple-100"},[h("h3",{class:"text-purple-600 font-bold mb-3"},"消息传递机制（MsgHub）"),h("ul",{class:"space-y-2 text-sm text-gray-700"},[h("li",null,[h("strong",null,"灵活路由"),L("：支持点对点、广播、组播等通信模式")]),h("li",null,[h("strong",null,"消息持久化"),L("：自动保存到 SQLite/MongoDB，支持状态恢复")]),h("li",null,[h("strong",null,"分布式支持"),L("：跨进程/服务器通信，对开发者透明")]),h("li",null,[h("strong",null,"容错能力"),L("：内置重试机制，确保消息可靠传递")])])],-1))]),m[3]||(m[3]=h("p",null,"在 AgentScope 中，每个智能体都有明确的生命周期（初始化、运行、暂停、销毁等），并基于一个统一的基类 AgentBase 来实现",-1))]),_:1},16)}}};export{Me as default};
